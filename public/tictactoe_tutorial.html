<html>

<head>
  <style>
    .board {
      display: flex;
      width: 600px;
      height: 600px;
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: flex-start;
    }

    .square {
      height: 200px;
      width: 200px;
      box-sizing: border-box;
      border: 5px solid black;
      font-size: 5em;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .square:hover {
      background-color: #80cd92;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <h1>Play Tic Tac Toe!</h1>
  <div class="board">
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
  </div>

  <p>
    <a href="index.html">Back to list of all games</a>
  </p>

  <script>
    var playerOneSymbol = "X"
    var playerTwoSymbol = "O"
    var currentTurn = playerOneSymbol
    var board = document.querySelector('.board');

    board.addEventListener('click', function(e) {
      if (e.target.innerHTML === '') {
        e.target.innerHTML = currentTurn
        currentTurn = currentTurn === playerOneSymbol ? playerTwoSymbol : playerOneSymbol
      }

      if (checkForWinner()) {
        alert("Somebody won!")
      }
    });


    function checkForWinner() {
      var squares = Array.prototype.slice.call(document.querySelectorAll('.square'), 0)
      var symbols = squares.map(function(square) {
        return square.innerHTML
      })
      var winningCombos = [
        [0, 1, 2],
        [3, 4, 5],
        [6, 7, 8],
        [0, 3, 6],
        [1, 4, 7],
        [2, 5, 8],
        [0, 4, 8],
        [6, 4, 2]
      ]
      return winningCombos.find(function(combo) {
        if (symbols[combo[0]] == symbols[combo[1]] && symbols[combo[1]] == symbols[combo[2]]) {
          return symbols[combo[0]]
        } else {
          return false
        }
      })
    }
  </script>
</body>

</html>
